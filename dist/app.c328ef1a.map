{"version":3,"sources":["src/event-emiter.js","src/format.js","src/api.js","app.js"],"names":["EventEmitter","events","event","listener","push","removeListener","idx","indexOf","splice","args","forEach","apply","remove","on","fixedAfterComma","num","decimals","sign","Math","round","pow","toFixed","fixed2Digits","slice","sizeTo","size","floor","secdsToHms","d","Number","h","m","s","getTrackName","url","str","split","length","AudioPlayer","parent","childs","activeClass","loop","loopAll","emitter","audio","Audio","tracks","currentTrackIndex","i","parentElmnt","hasChild","loopAllTacks","preventDefault","setTracks","target","files","emit","track","name","some","createPlayList","audioLinks","map","URL","createObjectURL","childNodes","child","index","onclick","removeActiveClass","classList","add","playCurrentByIndex","createElemnt","text","element","document","createElement","innerHTML","dataset","appendChild","seekbar","spanElmnt","ontimeupdate","duration","currentTime","seekValue","isNaN","value","addActiveClassByIndex","readyState","paused","play","pause","removeActiveClassByIndex","muted","volume","playall","onended","trackIndex","isPlaying","ended","src","oncanplay","window","onload","btnPlay","getElementById","btnPause","btnStop","btnNext","btnPrev","btnMute","btnPlus","btnMinus","btnLoop","btnLoopAll","spanElemnt","inputFile","inputText","btnAdd","onchange","addTracks","setTracksURL","onChildPlay","playTrack","pauseTack","stopTrack","muteTack","prevTack","nextTack","volPlus","volMinus","setProgress","loopTack","playAll"],"mappings":"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","file":"app.c328ef1a.map","sourceRoot":"..","sourcesContent":["export default class EventEmitter {\r\n\r\n  constructor() {    this.events = {};  }\r\n  \r\n  on(event, listener) {\r\n      if (typeof this.events[event] !== 'object') {\r\n          this.events[event] = [];\r\n      }\r\n      this.events[event].push(listener);\r\n      return () => this.removeListener(event, listener);\r\n  }\r\n  removeListener(event, listener) {\r\n    if (typeof this.events[event] === 'object') {\r\n        const idx = this.events[event].indexOf(listener);\r\n        if (idx > -1) {\r\n          this.events[event].splice(idx, 1);\r\n        }\r\n    }\r\n  }\r\n  emit(event, ...args) {\r\n    if (typeof this.events[event] === 'object') {\r\n      this.events[event].forEach(listener => listener.apply(this, args));\r\n    }\r\n  }\r\n  once(event, listener) {\r\n    const remove = this.on(event, (...args) => {\r\n        remove();\r\n        listener.apply(this, args);\r\n    });\r\n  }\r\n};"," // fixed 2 after comma : 5.125 => 5.12\r\nfunction fixedAfterComma(num,decimals) {\r\n    let sign = num >= 0 ? 1 : -1;\r\n    return (Math.round((num*Math.pow(10,decimals)) + (sign*0.001)) / Math.pow(10,decimals)).toFixed(decimals);\r\n}\r\n\r\n// fixed two digits : 5 => 05\r\nfunction fixed2Digits(num) {\r\n    return (\"0\" + num).slice(-2);\r\n}\r\n\r\n// convert any size to KB Or MB\r\nfunction sizeTo(size) {\r\n    return size < 1000000 ? \r\n    (Math.floor(size / 1000) + 'KB') : (Math.floor(size / 1000000) + 'MB');\r\n}\r\n\r\n// convert time in seconds into hours & minutes & seconds => 01:02:50\r\nfunction secdsToHms(d) {\r\n    d = Number(d);\r\n    let h = Math.floor(d / 3600) , m = Math.floor(d % 3600 / 60) , s = Math.floor(d % 3600 % 60);\r\n\r\n    //var hDisplay = h > 0 ? h + (h == 1 ? \" hour, \" : \" hours, \") : \"\";\r\n    //var mDisplay = m > 0 ? m + (m == 1 ? \" minute, \" : \" minutes, \") : \"\";\r\n    //var sDisplay = s > 0 ? s + (s == 1 ? \" second\" : \" seconds\") : \"\";\r\n    return h > 0 ?\r\n        fixed2Digits(h,2) +\":\"+ fixed2Digits(m,2) +\":\" + fixed2Digits(s,2) :\r\n        fixed2Digits(m,2)+\":\" + fixed2Digits(s,2); \r\n}\r\n\r\n/* \r\n    get track name from url :\r\n    url : https://www.sample-videos.com/audio/mp3/wave.mp3\r\n    return wave.mp3\r\n*/\r\nfunction getTrackName(url) {\r\n    let str = url.split('/');\r\n    return str[str.length-1];\r\n}\r\n\r\nexport { fixedAfterComma , sizeTo , secdsToHms , getTrackName };","/* Create your own playlist from url or your local computer \r\n API Author : Haikel Fazzani \r\n \r\n    Api tested on : chrome , firefox , opera , edge \r\n    System : windows\r\n    support : mp3 , mp4 , wav , mov , ogg\r\n*/\r\nimport EventEmitter from \"./event-emiter\";\r\nimport { sizeTo, getTrackName, secdsToHms } from \"./format\";\r\n\r\nexport class AudioPlayer {\r\n\r\n    constructor({ parent, childs = 'li', activeClass = \"active\", loop = false, loopAll = false }) {\r\n        this.emitter = new EventEmitter();\r\n        this.audio = new Audio();\r\n        this.tracks = []; // list of tracks\r\n        this.currentTrackIndex = 0;\r\n        this.i = 0; // index of each audio stored in the array : tracks\r\n        this.parentElmnt = parent; // example ul elements\r\n        this.childs = childs; // example li elements        \r\n        this.hasChild = false; // parent element (ul) has childs (li)\r\n        this.activeClass = activeClass; // active track class (css)\r\n        this.loopAll = loopAll; // loop all tracks ( : boolean)\r\n        this.audio.loop = loop; // loop single track ( : boolean)\r\n\r\n        this.loopAllTacks(); // ( : method)\r\n    }\r\n\r\n    addTracks(event) {\r\n        event.preventDefault();\r\n        this.setTracks([...event.target.files]);\r\n        this.emitter.emit('haschild', this.hasChild = true);\r\n    }\r\n\r\n    setTracksURL(url) {\r\n        let track = { name: getTrackName(url), url };\r\n\r\n        if (!this.tracks.some(({ url }) => url === track.url)) {\r\n            this.createPlayList(track);\r\n            this.tracks.push(track);\r\n        }\r\n        this.emitter.emit('haschild', this.hasChild = true);\r\n    }\r\n\r\n    setTracks(audioLinks) {\r\n        audioLinks.map(audio => {\r\n            if (!this.tracks.some(({ name }) => name === audio.name)) {\r\n                this.createPlayList(audio);\r\n                this.tracks.push(\r\n                    {\r\n                        name: audio.name, size: audio.size, sizeTo: sizeTo(audio.size),\r\n                        url: URL.createObjectURL(audio)\r\n                    }\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    // on child element click , play track\r\n    onChildPlay() {\r\n        this.emitter.on('haschild', (hasChild) => {\r\n            if (hasChild) {\r\n                [...this.parentElmnt.childNodes].map((child, index) => {\r\n                    this.emitter.removeListener('haschild', this.hasChild);\r\n                    child.onclick = () => {\r\n                        this.removeActiveClass();\r\n                        child.classList.add(this.activeClass);\r\n                        this.currentTrackIndex = index;\r\n                        this.playCurrentByIndex(index);\r\n                    }\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    // create li list from tracks after converting links to urls object\r\n    createPlayList(audio) { this.createElemnt(this.parentElmnt, this.childs, audio.name); }\r\n\r\n    // create a child element and appended to the parent element passed in the constructor\r\n    createElemnt(parent = \"ul\", child = \"li\", text = \"\") {\r\n        let element = document.createElement(child);\r\n        element.innerHTML = text;\r\n        element.dataset.track = text;\r\n        parent.appendChild(element);\r\n    }\r\n\r\n    /** set progress , duration ---- */\r\n    setProgress(seekbar, spanElmnt = {}) {\r\n        this.audio.ontimeupdate = () => {\r\n            let duration = this.audio.duration,\r\n                currentTime = this.audio.currentTime,\r\n                seekValue = Math.floor((100 / duration) * currentTime);\r\n\r\n            if (!isNaN(seekValue)) {\r\n                seekbar.value = seekValue;\r\n                spanElmnt.innerHTML = secdsToHms(currentTime) + '/' + secdsToHms(duration);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getAudio() { return this.audio; }\r\n    /* --------------------- Audio Controls -------- */\r\n\r\n    playTrack() {\r\n        if (this.tracks.length > 0) {\r\n            this.removeActiveClass();\r\n            this.addActiveClassByIndex(this.currentTrackIndex);\r\n            this.playCurrentByIndex(this.currentTrackIndex);\r\n        }\r\n    }\r\n\r\n    pauseTack() {\r\n        if (this.audio.readyState > 1) {\r\n            if (this.audio.paused) this.audio.play()\r\n            else this.audio.pause();\r\n        }\r\n    }\r\n\r\n    stopTrack() {\r\n        if (this.audio.readyState > 1) {\r\n            //this.audio.currentTime = 0;\r\n            this.audio.pause();\r\n        }\r\n    }\r\n\r\n    nextTack() {\r\n        if (this.tracks.length > 0) {\r\n            this.removeActiveClassByIndex(this.currentTrackIndex);\r\n            this.currentTrackIndex++;\r\n\r\n            this.currentTrackIndex = this.currentTrackIndex > this.tracks.length - 1 ?\r\n                0 : this.currentTrackIndex;\r\n\r\n            this.addActiveClassByIndex(this.currentTrackIndex);\r\n            this.playCurrentByIndex(this.currentTrackIndex);\r\n        }\r\n    }\r\n\r\n    prevTack() {\r\n        if (this.tracks.length > 0) {\r\n            this.removeActiveClassByIndex(this.currentTrackIndex);\r\n            this.currentTrackIndex--;\r\n            this.currentTrackIndex = this.currentTrackIndex < 0 ? this.tracks.length - 1 :\r\n                this.currentTrackIndex;\r\n\r\n            this.addActiveClassByIndex(this.currentTrackIndex);\r\n            this.playCurrentByIndex(this.currentTrackIndex);\r\n        }\r\n    }\r\n\r\n    muteTack() { return this.audio.muted = this.audio.muted ? false : true; }\r\n    volPlus() { return this.audio.volume = this.audio.volume > 0.9 ? 0.9 : this.audio.volume + 0.1; }\r\n    volMinus() { return this.audio.volume = this.audio.volume > 0.1 ? this.audio.volume - 0.1 : 0.1; }\r\n\r\n    // loop single track\r\n    loopTack() {\r\n        this.loopAll = false;\r\n        this.audio.loop = this.audio.loop ? false : true;\r\n        return this.audio.loop;\r\n    }\r\n\r\n    // loop all tracks list\r\n    playAll() {\r\n        this.audio.loop = false;\r\n        this.loopAll = this.loopAll ? false : true;\r\n        this.emitter.emit('playall', this.loopAll);\r\n        return this.loopAll;\r\n    }\r\n\r\n    // this method listen for the event 'playall' emited by playAll() method\r\n    loopAllTacks() {\r\n        this.emitter.on('playall', (playall) => {\r\n            this.audio.onended = () => {\r\n                if (playall) {\r\n                    this.removeActiveClassByIndex(this.currentTrackIndex);\r\n                    this.currentTrackIndex++;\r\n\r\n                    if (this.currentTrackIndex === this.tracks.length) {\r\n                        this.currentTrackIndex = 0;\r\n                    }\r\n\r\n                    this.addActiveClassByIndex(this.currentTrackIndex);\r\n                    this.playCurrentByIndex(this.currentTrackIndex);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // play current track by its index passed in parameters\r\n    playCurrentByIndex(trackIndex) {\r\n        let isPlaying = this.audio.currentTime > 0 && !this.audio.paused && !this.audio.ended\r\n            && this.audio.readyState > 2;\r\n\r\n        this.audio.src = this.tracks[trackIndex].url;\r\n        if (!isPlaying) {\r\n            this.audio.oncanplay = () => this.audio.play();\r\n        }\r\n        return this.tracks[trackIndex].name;\r\n    }\r\n\r\n    /* add & remove a active class to the current child play (css) */\r\n    addActiveClassByIndex(index = 0) {\r\n        this.parentElmnt.childNodes[index].classList.add(this.activeClass);\r\n    }\r\n\r\n    // remove all active classes expect the current track play\r\n    removeActiveClass() {\r\n        [...this.parentElmnt.childNodes].map(child => child.classList.remove(this.activeClass));\r\n    }\r\n\r\n    removeActiveClassByIndex(index = 0) {\r\n        this.parentElmnt.childNodes[index].classList.remove(this.activeClass);\r\n    }\r\n}","import { AudioPlayer } from './src/api';\r\n\r\nwindow.onload = () => {\r\n\r\n    let btnPlay     = document.getElementById('btn-play'),\r\n        btnPause    = document.getElementById('btn-pause'),\r\n        btnStop     = document.getElementById('btn-stop'),\r\n        btnNext     = document.getElementById('btn-next'),\r\n        btnPrev     = document.getElementById('btn-previous'),\r\n        btnMute     = document.getElementById('btn-mute'),\r\n        btnPlus     = document.getElementById('btn-plus'),\r\n        btnMinus    = document.getElementById('btn-minus') ,\r\n        btnLoop     = document.getElementById('btn-loop') ,\r\n        btnLoopAll  = document.getElementById('btn-loop-all') ,\r\n        seekbar     = document.getElementById('seekbar') ,\r\n        spanElemnt = document.getElementById('progress-time'); \r\n\r\n    let inputFile = document.getElementById('input-file'),\r\n        inputText = document.getElementById('input-text'),\r\n        btnAdd = document.getElementById('btn-add'),\r\n        parent = document.getElementById('audio-list');\r\n\r\n    /**  */\r\n    let audio = new AudioPlayer({parent});\r\n\r\n    inputFile.onchange = (event) => { audio.addTracks(event); };\r\n    btnAdd.onclick = () => {\r\n        audio.setTracksURL(inputText.value)\r\n    }\r\n\r\n    // on click on audio in the list , the audio play the current\r\n    audio.onChildPlay();    \r\n\r\n    /* Audio Controls */\r\n    btnPlay.onclick     = () => audio.playTrack();    \r\n    btnPause.onclick    = () => audio.pauseTack();\r\n    btnStop.onclick     = () => audio.stopTrack();\r\n    btnMute.onclick     = () => audio.muteTack();    \r\n    btnPrev.onclick     = () => audio.prevTack();\r\n    btnNext.onclick     = () => audio.nextTack();\r\n    btnPlus.onclick     = () => audio.volPlus();\r\n    btnMinus.onclick    = () => audio.volMinus();\r\n\r\n    // get the current audio duration\r\n    //audio.getDuration().then(res => console.log(res));\r\n    audio.setProgress(seekbar , spanElemnt);\r\n\r\n    // audio.getAudioObject().onloadeddata = () => {\r\n    //     console.log(audio.getAudioObject().duration)\r\n    // };\r\n\r\n    // audio.getAudioObject().ontimeupdate = () => {\r\n    //     console.log(audio.getAudioObject().currentTime)\r\n    // };\r\n\r\n    btnLoop.onclick = () => audio.loopTack();\r\n    btnLoopAll.onclick = () => audio.playAll();\r\n\r\n}"]}