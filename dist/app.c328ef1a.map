{"version":3,"sources":["event-emiter.js","src/api.js","app.js"],"names":["EventEmitter","events","event","listener","push","removeListener","idx","indexOf","splice","args","forEach","apply","remove","on","AudioPlayer","parentId","childs","activeClass","loop","loopAll","emitter","audio","Audio","tracks","currentTrackIndex","i","duration","hasChild","loopAllTacks","preventDefault","audioFiles","target","files","getTracks","emit","map","some","trackName","name","createPlayList","URL","createObjectURL","childNodes","child","index","onclick","removeActiveClass","classList","add","playCurrentByIndex","url","createElemnt","length","addActiveClassByIndex","paused","play","pause","currentTime","removeActiveClassByIndex","muted","volume","playall","onended","trackIndex","src","parent","text","element","document","createElement","innerHTML","appendChild","window","onload","btnPlay","getElementById","btnPause","btnStop","btnNext","btnPrev","btnMute","btnPlus","btnMinus","btnLoop","btnLoopAll","inputFile","ul","onchange","addTrack","onChildPlay","playTrack","pauseTack","stopTrack","muteTack","nextTack","prevTack","volPlus","volMinus","onloadedmetadata","console","log","loopTack","playAll"],"mappings":"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","file":"app.c328ef1a.map","sourceRoot":"..","sourcesContent":["export default class EventEmitter {\r\n\r\n  constructor() {    this.events = {};  }\r\n  \r\n  on(event, listener) {\r\n      if (typeof this.events[event] !== 'object') {\r\n          this.events[event] = [];\r\n      }\r\n      this.events[event].push(listener);\r\n      return () => this.removeListener(event, listener);\r\n  }\r\n  removeListener(event, listener) {\r\n    if (typeof this.events[event] === 'object') {\r\n        const idx = this.events[event].indexOf(listener);\r\n        if (idx > -1) {\r\n          this.events[event].splice(idx, 1);\r\n        }\r\n    }\r\n  }\r\n  emit(event, ...args) {\r\n    if (typeof this.events[event] === 'object') {\r\n      this.events[event].forEach(listener => listener.apply(this, args));\r\n    }\r\n  }\r\n  once(event, listener) {\r\n    const remove = this.on(event, (...args) => {\r\n        remove();\r\n        listener.apply(this, args);\r\n    });\r\n  }\r\n};","/* Create your own playlist from your local computer */\r\n/* API Author : Haikel Fazzani */\r\n/* Api tested on : chrome , firefox , opera , edge */\r\nimport EventEmitter from \"./event-emiter\";\r\n\r\nexport class AudioPlayer {\r\n\r\n    constructor(parentId, childs = 'li', activeClass = \"active\", loop = false, loopAll = false) {\r\n        this.emitter = new EventEmitter();\r\n        this.audio = new Audio();\r\n        this.tracks = []; // list of tracks\r\n        this.currentTrackIndex = 0;\r\n        this.i = 0; // index of each audio stored in the array : tracks\r\n        this.parentId = parentId; // example ul elements\r\n        this.childs = childs; // example li elements\r\n        this.duration = this.audio.duration;\r\n        this.hasChild = false; // parent element (ul) has childs (li)\r\n        this.activeClass = activeClass; // active track class (css)\r\n        this.loopAll = loopAll; // loop all tracks ( : boolean)\r\n        this.audio.loop = loop; // loop single track ( : boolean)\r\n        this.loopAllTacks(); // ( : method)\r\n    }\r\n\r\n    addTrack(event) {\r\n        event.preventDefault();       \r\n        let audioFiles = [...event.target.files];\r\n        this.getTracks(audioFiles);\r\n        this.emitter.emit('haschild', this.hasChild = true);\r\n    }\r\n\r\n    getTracks(audioFiles) {\r\n        audioFiles.map(audio => {\r\n            if(!this.tracks.some(({trackName}) => trackName === audio.name)) \r\n            {\r\n                this.createPlayList(audio);\r\n                this.tracks.push({ trackName: audio.name , name: URL.createObjectURL(audio) });\r\n            }\r\n        });\r\n        return this.tracks;\r\n    }\r\n\r\n    // on child element click , play track\r\n    onChildPlay() {\r\n        this.emitter.on('haschild', (hasChild) => {\r\n            if (hasChild) {\r\n                [...this.parentId.childNodes].map((child, index) => {\r\n                    this.emitter.removeListener('haschild', this.hasChild);\r\n                    child.onclick = () => {\r\n                        this.removeActiveClass();\r\n                        child.classList.add(this.activeClass);\r\n                        this.currentTrackIndex = index;\r\n                        this.playCurrentByIndex(index);\r\n                    }\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    // create li list from tracks after converting links to urls object\r\n    createPlayList(url) { this.createElemnt(this.parentId, this.childs, url.name); }\r\n\r\n    /* ------- Audio Controls -------- */\r\n\r\n    playTrack() {\r\n        if (this.tracks.length > 0) {\r\n            this.removeActiveClass();\r\n            this.addActiveClassByIndex(this.currentTrackIndex);\r\n            this.playCurrentByIndex(this.currentTrackIndex);\r\n        }\r\n    }\r\n\r\n    pauseTack() {\r\n        if (this.audio.paused) this.audio.play()\r\n        else this.audio.pause();\r\n    }\r\n\r\n    stopTrack() {\r\n        this.audio.pause();\r\n        this.audio.currentTime = 0;\r\n    }\r\n\r\n    nextTack() {\r\n        if (this.tracks.length > 0) {            \r\n            this.removeActiveClassByIndex(this.currentTrackIndex);\r\n            this.currentTrackIndex++;\r\n\r\n            this.currentTrackIndex = this.currentTrackIndex > this.tracks.length - 1 ?\r\n                0 : this.currentTrackIndex;\r\n\r\n            this.addActiveClassByIndex(this.currentTrackIndex);\r\n            this.playCurrentByIndex(this.currentTrackIndex);\r\n        }\r\n    }\r\n\r\n    prevTack() {\r\n        if (this.tracks.length > 0) {\r\n            this.removeActiveClassByIndex(this.currentTrackIndex);\r\n            this.currentTrackIndex--;\r\n            this.currentTrackIndex = this.currentTrackIndex < 0 ? this.tracks.length - 1 :\r\n                this.currentTrackIndex;\r\n\r\n            this.addActiveClassByIndex(this.currentTrackIndex);\r\n            this.playCurrentByIndex(this.currentTrackIndex);\r\n        }\r\n    }\r\n\r\n    muteTack() { this.audio.muted = this.audio.muted === false ? true : false; }\r\n    volPlus() { return this.audio.volume = this.audio.volume < 1 ? this.audio.volume + 0.1 : 0.9; }\r\n    volMinus() { return this.audio.volume = this.audio.volume > 0.1 ? this.audio.volume - 0.1 : 0.1; }\r\n\r\n    // loop single track\r\n    loopTack() {\r\n        this.loopAll = false;\r\n        this.audio.loop = this.audio.loop ? false : true;\r\n    }\r\n\r\n    // loop all tracks list\r\n    playAll() {\r\n        this.audio.loop = false;\r\n        this.loopAll = this.loopAll ? false : true;\r\n        this.emitter.emit('playall', this.loopAll);\r\n        return this.loopAll;\r\n    }\r\n    \r\n    // this method listen for the event 'playall' emited by playAll() method\r\n    loopAllTacks() {\r\n        this.emitter.on('playall', (playall) => {\r\n            this.audio.onended = () => {\r\n                if (playall) {\r\n                    this.removeActiveClassByIndex(this.currentTrackIndex);\r\n                    this.currentTrackIndex++;\r\n\r\n                    this.currentTrackIndex = this.currentTrackIndex > this.tracks.length - 1 ?\r\n                        0 : this.tracks.length - 1;\r\n\r\n                    this.addActiveClassByIndex(this.currentTrackIndex);\r\n                    this.playCurrentByIndex(this.currentTrackIndex);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // play current track by its index passed in parameters\r\n    playCurrentByIndex(trackIndex) {        \r\n        this.audio.src = this.tracks[trackIndex].name;\r\n        this.audio.play();\r\n    }\r\n\r\n    /* add & remove a active class to the current child play (css) */\r\n    addActiveClassByIndex(index = 0) {\r\n        this.parentId.childNodes[index].classList.add(this.activeClass);\r\n    }\r\n\r\n    removeActiveClass() {\r\n        [...this.parentId.childNodes].map(child => child.classList.remove(this.activeClass));\r\n    }\r\n\r\n    removeActiveClassByIndex(index = 0) {\r\n        this.parentId.childNodes[index].classList.remove(this.activeClass);\r\n    }\r\n\r\n\r\n    // create a child element and appended to the parent element passed in the constructor\r\n    createElemnt(parent = \"ul\", child = \"li\", text = \"\") {\r\n        let element = document.createElement(child);\r\n        element.innerHTML = text;\r\n        parent.appendChild(element);\r\n    }\r\n}","import { AudioPlayer } from './src/api';\r\n\r\nwindow.onload = () => {\r\n\r\n    let btnPlay     = document.getElementById('btn-play'),\r\n        btnPause    = document.getElementById('btn-pause'),\r\n        btnStop     = document.getElementById('btn-stop'),\r\n        btnNext     = document.getElementById('btn-next'),\r\n        btnPrev     = document.getElementById('btn-previous'),\r\n        btnMute     = document.getElementById('btn-mute'),\r\n        btnPlus     = document.getElementById('btn-plus'),\r\n        btnMinus    = document.getElementById('btn-minus') ,\r\n        btnLoop     = document.getElementById('btn-loop') ,\r\n        btnLoopAll  = document.getElementById('btn-loop-all') ;\r\n\r\n    let inputFile = document.getElementById('input-file'),\r\n        ul = document.getElementById('audio-list');\r\n\r\n    /**  */\r\n    let audio = new AudioPlayer(ul, 'li');\r\n\r\n    inputFile.onchange = (event) => audio.addTrack(event);\r\n\r\n    // on click on audio in the list , the audio play the current\r\n    audio.onChildPlay();\r\n\r\n\r\n    /* Audio Controls */\r\n    btnPlay.onclick     = () => audio.playTrack();    \r\n    btnPause.onclick    = () => audio.pauseTack();\r\n    btnStop.onclick     = () => audio.stopTrack();\r\n    btnMute.onclick     = () => audio.muteTack();\r\n    btnNext.onclick     = () => audio.nextTack();\r\n    btnPrev.onclick     = () => audio.prevTack();\r\n    btnPlus.onclick     = () => audio.volPlus();\r\n    btnMinus.onclick    = () => audio.volMinus();\r\n\r\n    // get the current audio duration\r\n    audio.onloadedmetadata = () => {\r\n        console.log(audio.duration)\r\n    }\r\n\r\n    btnLoop.onclick = () => audio.loopTack();\r\n    btnLoopAll.onclick = () => audio.playAll();\r\n}"]}